# Promo Load Analyzer Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# =============================================================================
# PrestaShop API Configuration (Optional)
# =============================================================================
# Used for optional data enrichment (product details, stock, etc.)
# If not provided, analyzer works without API enrichment

PRESTASHOP_API_URL=https://your-store.com/api
PRESTASHOP_API_KEY=your_api_key_here


# =============================================================================
# Load Testing Configuration
# =============================================================================

# Default environment (PREPROD or PROD)
# PREPROD: No restrictions, full testing capabilities
# PROD: Safety constraints enforced (time windows, VU limits)
DEFAULT_ENVIRONMENT=PREPROD

# PROD Safety Constraints
# Only used when environment=PROD
PROD_TIME_WINDOW_START=03:00  # Start time (HH:MM format, 24h)
PROD_TIME_WINDOW_END=06:00    # End time (HH:MM format, 24h)
PROD_MAX_VUS=50               # Maximum concurrent virtual users
PROD_MAX_DURATION_MINUTES=30  # Maximum test duration


# =============================================================================
# K6 Configuration
# =============================================================================

# K6 binary path (auto-detected if in PATH)
# K6_BINARY_PATH=/usr/local/bin/k6

# Default K6 test parameters
DEFAULT_VUS=10                # Virtual users for PREPROD
DEFAULT_DURATION=5m           # Test duration (e.g., 30s, 5m, 1h)
DEFAULT_RAMP_UP_TIME=30s      # Ramp-up time


# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE_PATH=logs/promo_analyzer.log

# Log rotation
LOG_ROTATION=10 MB            # Rotate when file reaches size
LOG_RETENTION=7 days          # Keep logs for this duration


# =============================================================================
# Output Configuration
# =============================================================================

# Output directory for results
OUTPUT_DIR=output

# K6 scripts directory
K6_SCRIPTS_DIR=k6_scripts

# K6 results directory
K6_RESULTS_DIR=k6_results

# Output format (JSON, HTML, or BOTH)
OUTPUT_FORMAT=BOTH


# =============================================================================
# Playwright Configuration
# =============================================================================

# Browser type (chromium, firefox, webkit)
BROWSER_TYPE=chromium

# Headless mode (true or false)
HEADLESS=true

# Page load timeout (milliseconds)
PAGE_TIMEOUT=30000

# Network timeout (milliseconds)
NETWORK_TIMEOUT=15000


# =============================================================================
# Performance Thresholds
# =============================================================================
# Used for scoring and recommendations

# Response time thresholds (milliseconds)
THRESHOLD_P95_EXCELLENT=500
THRESHOLD_P95_GOOD=1000
THRESHOLD_P95_ACCEPTABLE=2000
THRESHOLD_P95_POOR=5000

# Error rate thresholds (percentage)
THRESHOLD_ERROR_RATE_EXCELLENT=0.1
THRESHOLD_ERROR_RATE_GOOD=1.0
THRESHOLD_ERROR_RATE_ACCEPTABLE=5.0
THRESHOLD_ERROR_RATE_POOR=10.0


# =============================================================================
# Development/Debug Settings
# =============================================================================

# Debug mode (enables verbose logging, preserves temp files)
DEBUG_MODE=false

# Preserve K6 scripts after execution
PRESERVE_K6_SCRIPTS=false

# Enable request/response logging
ENABLE_HTTP_LOGGING=false
